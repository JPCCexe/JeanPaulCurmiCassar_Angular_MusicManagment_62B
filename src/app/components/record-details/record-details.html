<div class="container mt-5 mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-dark fw-bold m-0">Record Details</h2>
        <button class="btn btn-outline-secondary" (click)="goBack()">← Back to Records</button>
    </div>

    <div class="card border-0 shadow-sm" *ngIf="record">
        <div class="card-body p-4">

            <!-- Record Info -->
            <h5 class="text-muted mb-3">Record Information</h5>

            <div class="row mb-3">
                <div class="col-md-6">
                    <p class="mb-1 text-muted small">Record Title</p>
                    <p class="fw-semibold">{{ record.recordTitle | lowercase }}</p>
                </div>
                <div class="col-md-6">
                    <p class="mb-1 text-muted small">Artist</p>
                    <p class="fw-semibold">{{ record.artist }}</p>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3">
                    <p class="mb-1 text-muted small">Format</p>
                    <p><span class="badge bg-light text-dark">{{ record.format }}</span></p>
                </div>
                <div class="col-md-3">
                    <p class="mb-1 text-muted small">Genre</p>
                    <p><span class="badge bg-light text-dark">{{ record.genre }}</span></p>
                </div>
                <div class="col-md-3">
                    <p class="mb-1 text-muted small">Release Year</p>
                    <p class="fw-semibold">{{ record.releaseYear }}</p>
                </div>
                <div class="col-md-3">
                    <p class="mb-1 text-muted small">Price</p>
                    <p class="fw-semibold">€{{ record.price }}</p>
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-md-6">
                    <p class="mb-1 text-muted small">Stock Quantity</p>
                    <p class="fw-semibold">{{ record.stockQuantity }}</p>
                </div>
            </div>

            <hr>

            <!-- Customer Info -->
            <h5 class="text-muted mb-3 mt-3">Customer Information</h5>

            <div class="row mb-3">
                <div class="col-md-4">
                    <p class="mb-1 text-muted small">Customer ID</p>
                    <p class="fw-semibold">{{ record.customerId || '—' }}</p>
                </div>
                <div class="col-md-4">
                    <p class="mb-1 text-muted small">First Name</p>
                    <p class="fw-semibold">{{ record.customerFirstName || '—' }}</p>
                </div>
                <div class="col-md-4">
                    <p class="mb-1 text-muted small">Last Name</p>
                    <p class="fw-semibold">{{ record.customerLastName || '—' }}</p>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <p class="mb-1 text-muted small">Contact Number</p>
                    <p class="fw-semibold">{{ record.customerContactNumber || '—' }}</p>
                </div>
                <div class="col-md-6">
                    <p class="mb-1 text-muted small">Email</p>
                    <p class="fw-semibold">{{ record.customerEmail || '—' }}</p>
                </div>
            </div>

        </div>

        <div class="card-footer bg-light border-0 p-4">
            <div class="d-flex gap-2">

                <!-- only enabled for manager and admin -->
                <button class="btn btn-dark" (click)="editRecord()" [disabled]="!canUpdate()"> Edit Record </button>

                <!-- only enabled for admin -->
                <button class="btn btn-outline-danger" (click)="deleteRecord()" [disabled]="!canDelete()"> Delete Record
                </button>
            </div>
        </div>
    </div>

    <div *ngIf="!record" class="text-center py-5">
        <p class="text-muted">Loading record...</p>
    </div>

</div>